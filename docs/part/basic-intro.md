section: basic
id: intro
description: 接口请求方法说明
icon: icon-heart
filter: shuoming sm
---

# 说明

## 接口方法

接口所有请求都是基于`REST`开发的

- 所有获取数据都以`GET`获取
- `PUT`/`DELETE` 请求暂未使用
- 所有`POST`传参都以`JSON`的标准格式,如下

```json
{
  "parameter": "参数" // 注意双引号
}
```
- 所有接口统一返回格式,如下

```json
{
  "success": true, // 成功 or 失败
  "errorCode": null, // 错误代码
  "errorMsg": null, // 错误信息
  "data": {}  // 返回具体数据,可以是String,JSON等数据类型
}
```

- 所有请求必须带有`DAAN-API-TOKEN`请求头,值为`token`(接口获取)
- 所有`POST`请求必须带有,数字签名`signature`,随机字符串`echostr`

<div class="alert">
  <h4>注意</h4>
  <p>文档中,将会介绍如何获取 [token](#basic/auth)，生成数字签名 [signature](#basic/auth)</p>
  <p>文档中,部分示例代码使用`JavaScript`做例子</p>
</div>

## 注意事项

- **http URL**

http URL 为 http://api.ykhealth.cn/ 开头的地址

- **http 方法**

只支持 GET 与 POST 方法请求数据，用其它方法会提示相关错误。

- **关于滥用**

以下这些，但并不限于以下这些行为都被视为滥用：
- a.短时间内大量操作API用于采集。
- b.测试帐号及密码
- c.其它没有提到的，但会给系统带来压力的请求行为。

- **禁止登录**

如果接口授权错误次数在 30 分钟内超过 5 次则会被禁止授权一个小时，写程序的时候特别是 客户端的时候必须判断是否授权成功，如果不成功必须马上停止尝试。

- **关于封禁**

由于滥用 API 将会导致 API 被封禁，但并不影响在官方网站上的使用，封禁一定的时间后会自动解除，一般需要一个小时后才会解封，所以请小心操作，不要拿 API 进行大量测试

- **关于编码**

请用 UTF-8 编码进行数据传输，返回的数据也是 UTF-8 编码的。

## 通用调用参数

| 字段 | 必选 | 类型 | 说明 |
|-----|-----|-----|-----|
| appId | true | string | 系统id |
| orgId | true | string | 机构id |

## 通用错误代码

| 代码 | 说明 |
|-----|-----|
| 401 | 没有登陆 |
| 402 | 无效请求 |
| 403 | 验证失败 |
| 404 | token超时 |
| 405 | DB访问异常 |
| 406 | IO异常 |
| 407 | 服务不可用 |
| 410 | 服务异常 |
| 420 | 数据重复 |
| 411 | SQL执行错误 |
| 421 | 删除失败，己经被引用，请先取消其他业务数据关联 |
| 422 | 查询数据超出2000条 |
